<div [formGroup]="form">
    <label [for]="name" [ngClass]="{'text-invalid': isInvalid(name)}" class="form-label">
        {{ label }}
        @if(isRequired(name)){
            <small class="text-invalid">*</small>
        }
    </label>
    <div class="onlyIfContent" #wrapper><ng-content ></ng-content></div>
 
    @if(!wrapper.children.length) {
        @switch (type) {
            @case("new-password"){
                <input pPassword [id]="name" [formControlName]="name" [ngClass]="{'ng-dirty': isInvalid(name)}" autocomplete="new-password" [readonly]="readonly"/>
            }

            @case("textarea"){
                <textarea rows="5" [id]="name" [formControlName]="name" [ngClass]="{'ng-dirty': isInvalid(name)}" class="form-control" autocomplete="new-password" [readonly]="readonly"></textarea>
            }

            @case("select"){
                <select [formControlName]="name"> <!-- [disabled]="readonly"  -->
                    @if(isRequired(name)){
                        <option value="">-- Seleccione --</option>
                    }
                    @for(option of selectOptions; track option){
                        <option [value]="option.value">{{ option.label }}</option>
                    }
                    @for(option of selectValues; track option){
                        <option [value]="option">{{ option }}</option>
                    }
                </select>
            }

            @default {
                <input [type]="type" [id]="name" [formControlName]="name" [ngClass]="{'ng-dirty': isInvalid(name)}" class="form-control" autocomplete="new-password" [readonly]="readonly"/>
            }
        }
    }

    @if(isInvalid(name)){
        @if(hasError(name, "required")){
            <small class="text-invalid">Este campo es requerido</small>
        }
        @if(hasError(name, "email")){
            <small class="text-invalid">Ingrese un e-mail v√°lido</small>
        }
    }
    
</div> 